---
title: "9:53:41 PM - January 20, 2026"
date: 2026-01-20T20:53:41.561Z
timestamp: 1768942421561
---

## Project Notes

ResizableTextEdit resize bug - ACTUAL fix:

**The Problem:**
Text editor resized but gray container and resize handle didn't track with it.

**Root Cause:**
Using setFixedSize() on the container widget sets its QSizePolicy to Fixed, which prevents proper resizing even when calling setFixedSize() again with new dimensions.

**The Solution (2 simple changes):**
1. Set container size policy to Preferred:
   `self.container.setSizePolicy(QSizePolicy.Policy.Preferred, QSizePolicy.Policy.Preferred)`

2. Use resize() instead of setFixedSize() everywhere:
   - In __init__: `self.container.resize(...)` 
   - In mouseMoveEvent: `self.container.resize(...)`

**Why it works:**
- Preferred size policy allows the widget to resize freely
- resize() respects the size policy and allows changes
- The existing prepareGeometryChange() + self.resize() calls on the proxy work correctly once the container can actually resize
- No need to override boundingRect() - the proxy widget updates properly on its own

**Key lesson:**
setFixedSize() is for widgets that should NEVER resize. For resizable widgets, use resize() with an appropriate size policy (Preferred, Expanding, etc.).

## Technical Insights

QWidget sizing methods - setFixedSize() vs resize():

setFixedSize(w, h):
- Sets both minimum and maximum size to (w, h)
- Changes size policy to Fixed for both horizontal and vertical
- Widget becomes locked at that size
- Calling setFixedSize() again with new dimensions might not work properly if layout/policy conflicts exist
- Use for: Buttons, labels, or widgets that should never change size

resize(w, h):
- Sets the current size to (w, h)
- Respects the widget's size policy
- With Preferred/Expanding policy, widget can resize freely
- Layout system can override if widget is in a layout
- Use for: Resizable widgets, dynamic content

Size Policy matters:
- Fixed: Widget cannot resize (min == max == current size)
- Preferred: Widget has a preferred size but can grow/shrink
- Expanding: Widget wants to use available space
- When you call setFixedSize(), it sets policy to Fixed automatically

For QGraphicsProxyWidget resizing:
- The contained widget's size determines the proxy's boundingRect
- If contained widget can't resize (Fixed policy), proxy won't resize properly
- Use resize() + Preferred policy for resizable proxy widgets
- prepareGeometryChange() notifies scene before resize
- Calling self.resize() on the proxy updates its geometry correctly
