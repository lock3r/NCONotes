{
  "embedding": [
    -0.026585888117551804,
    0.0707569420337677,
    0.007164486218243837,
    0.0372815802693367,
    -0.07399533689022064,
    0.018574398010969162,
    0.01741332933306694,
    0.06597764045000076,
    0.007648148108273745,
    0.036575742065906525,
    -0.019836358726024628,
    0.035064831376075745,
    0.022227633744478226,
    0.038986798375844955,
    -0.022256825119256973,
    -0.010529331862926483,
    0.04241696372628212,
    0.01795286498963833,
    -0.12159398943185806,
    -0.010192456655204296,
    -0.0009280859958380461,
    -0.05840567871928215,
    0.10670307278633118,
    -0.02309875376522541,
    0.046425532549619675,
    -0.008292349986732006,
    -0.11998044699430466,
    0.029813252389431,
    0.007965581491589546,
    -0.02688131481409073,
    -0.0463455505669117,
    0.11424501985311508,
    -0.0611693412065506,
    -0.01266288198530674,
    -0.00009385825251229107,
    0.044423993676900864,
    -0.03331028297543526,
    -0.05382021144032478,
    -0.05762645974755287,
    -0.006227163132280111,
    0.015345823019742966,
    0.023294230923056602,
    -0.07068334519863129,
    0.03842340409755707,
    0.01720936968922615,
    -0.000511651043780148,
    0.0007602371624670923,
    0.0715990662574768,
    -0.04257216677069664,
    -0.094992496073246,
    -0.008058820851147175,
    0.018111558631062508,
    0.0230531208217144,
    0.09833697974681854,
    0.0038628657348454,
    0.00042036199010908604,
    0.07452589273452759,
    0.09002537280321121,
    0.05301536247134209,
    0.01973009668290615,
    -0.03846960514783859,
    0.03894658759236336,
    0.062023062258958817,
    0.033869870007038116,
    -0.07232893258333206,
    -0.01569053903222084,
    0.0031431603711098433,
    -0.038607578724622726,
    -0.010952579788863659,
    0.010790507309138775,
    -0.03702768683433533,
    -0.01942078210413456,
    -0.03290412202477455,
    -0.02947625145316124,
    0.0671759843826294,
    -0.0863705426454544,
    -0.025477131828665733,
    0.07539251446723938,
    -0.06552256643772125,
    -0.03327171504497528,
    0.04420821741223335,
    -0.028592905029654503,
    -0.007614699192345142,
    0.05752505362033844,
    0.02982742339372635,
    -0.008077188394963741,
    0.020364081487059593,
    0.003344021737575531,
    0.05715686082839966,
    -0.002661160659044981,
    0.059601735323667526,
    -0.014670606702566147,
    -0.008709017187356949,
    0.021887272596359253,
    -0.012138593010604382,
    -0.08543571829795837,
    -0.01016965787857771,
    -0.013097982853651047,
    -0.09653179347515106,
    0.003093935549259186,
    0.08205385506153107,
    -0.02849838323891163,
    0.0643431767821312,
    0.13958729803562164,
    0.0722985789179802,
    -0.010260597802698612,
    0.056888069957494736,
    -0.03619897738099098,
    -0.01343048457056284,
    -0.010849244892597198,
    -0.011062494479119778,
    -0.05936800315976143,
    -0.00015703482495155185,
    0.04752422496676445,
    -0.028118779882788658,
    0.08766181021928787,
    -0.0004143300757277757,
    0.03586943447589874,
    -0.021074621006846428,
    -0.018786491826176643,
    0.0716921016573906,
    0.023924555629491806,
    -0.0025522338692098856,
    -0.042123399674892426,
    0.024731595069169998,
    0.0922669991850853,
    0.004311710596084595,
    5.914149381909001e-33,
    -0.01099713146686554,
    -0.039327867329120636,
    0.0023438739590346813,
    0.06959733366966248,
    0.06968847662210464,
    0.06314443796873093,
    -0.0307887252420187,
    0.04147352650761604,
    -0.03168131038546562,
    -0.07454270869493484,
    0.039687253534793854,
    0.03893274813890457,
    -0.048189662396907806,
    -0.0029830404091626406,
    0.04094511643052101,
    -0.014818510040640831,
    -0.059368837624788284,
    0.13509654998779297,
    0.016701601445674896,
    0.02567676082253456,
    0.022403080016374588,
    -0.06460782140493393,
    -0.030937140807509422,
    -0.06150970980525017,
    -0.04477182403206825,
    -0.03311934694647789,
    0.016686461865901947,
    0.05628513917326927,
    -0.07947873324155807,
    -0.023212866857647896,
    -0.12515191733837128,
    -0.04299043118953705,
    0.0678640753030777,
    -0.0012076431885361671,
    -0.13305142521858215,
    -0.061661265790462494,
    -0.013887476176023483,
    -0.03983699530363083,
    -0.07162662595510483,
    -0.05309208109974861,
    -0.044505663216114044,
    -0.0028930746484547853,
    0.08062180131673813,
    -0.1436510980129242,
    -0.006386589724570513,
    -0.05175453796982765,
    -0.023335253819823265,
    0.03681221604347229,
    -0.029336748644709587,
    -0.030809925869107246,
    0.09750887751579285,
    0.058951281011104584,
    0.023543253540992737,
    -0.08384770900011063,
    -0.014916031621396542,
    -0.040240805596113205,
    0.06482547521591187,
    0.05591008439660072,
    -0.01623343490064144,
    -0.010681700892746449,
    -0.01998540572822094,
    -0.025214893743395805,
    -0.04011625424027443,
    0.07810661196708679,
    0.05795694515109062,
    0.10892144590616226,
    0.01076155249029398,
    0.03391306474804878,
    -0.031915437430143356,
    0.06491966545581818,
    -0.0528656467795372,
    0.011077649891376495,
    0.023679539561271667,
    0.06737104058265686,
    0.024283573031425476,
    -0.05837962403893471,
    0.005909860134124756,
    -0.06832278519868851,
    -0.08046625554561615,
    0.004415143746882677,
    0.054703157395124435,
    -0.019939031451940536,
    0.06940498948097229,
    -0.026489831507205963,
    -0.09193733334541321,
    -0.18298938870429993,
    0.10005255043506622,
    -0.012850512750446796,
    -0.008292769081890583,
    -0.030908433720469475,
    -0.016502745449543,
    -0.05480974167585373,
    0.04245463013648987,
    0.02804134227335453,
    -0.016815098002552986,
    -5.635087390365774e-33,
    -0.01758640818297863,
    -0.009025298990309238,
    -0.01565525121986866,
    0.015752268955111504,
    -0.020663784816861153,
    0.011872420087456703,
    0.02419239841401577,
    0.12576770782470703,
    0.03466372191905975,
    -0.18015679717063904,
    -0.05826692655682564,
    -0.007108480203896761,
    -0.03325638547539711,
    0.0014004572294652462,
    -0.06378235667943954,
    0.11021727323532104,
    -0.05641516298055649,
    -0.04713152348995209,
    -0.030979910865426064,
    -0.002313037868589163,
    0.01055200770497322,
    -0.045414455235004425,
    0.006642782595008612,
    0.08962554484605789,
    -0.03927849605679512,
    0.0012748482404276729,
    0.08511866629123688,
    0.03594142571091652,
    -0.020595181733369827,
    -0.03875723481178284,
    0.00262458180077374,
    -0.11265718936920166,
    -0.13845466077327728,
    0.05491989478468895,
    0.06524660438299179,
    -0.08524598181247711,
    -0.0052461097948253155,
    0.02452012337744236,
    -0.04034299775958061,
    0.032144613564014435,
    0.08169332146644592,
    -0.01501506008207798,
    -0.01476236805319786,
    0.04906405508518219,
    0.060915756970644,
    0.010658454149961472,
    -0.02548663690686226,
    -0.02053079754114151,
    -0.028909338638186455,
    -0.016285959631204605,
    -0.011928711086511612,
    0.06938792020082474,
    0.02472788468003273,
    0.047480206936597824,
    0.010355447418987751,
    0.05097183212637901,
    -0.004228339530527592,
    0.07323922961950302,
    -0.011704658158123493,
    -0.05397336930036545,
    -0.011532643809914589,
    -0.04389271140098572,
    -0.065064437687397,
    -0.022739972919225693,
    0.05536232888698578,
    0.045873939990997314,
    -0.04447608068585396,
    0.0005421359091997147,
    0.0055297850631177425,
    -0.02438334934413433,
    0.07827925682067871,
    -0.027746308594942093,
    0.0046151746064424515,
    -0.022585423663258553,
    -0.006756993010640144,
    0.05319025367498398,
    0.058117665350437164,
    -0.07942432165145874,
    0.016622714698314667,
    0.028751669451594353,
    -0.00761871924623847,
    0.013543573208153248,
    0.028165999799966812,
    -0.01399034820497036,
    -0.04397062212228775,
    0.043277766555547714,
    -0.004942604340612888,
    0.12974506616592407,
    0.06646282225847244,
    -0.028319500386714935,
    -0.02044595591723919,
    0.001111669116653502,
    -0.01408871915191412,
    0.06055205687880516,
    0.0671633705496788,
    -4.7443073469821684e-8,
    -0.004079810809344053,
    0.021785011515021324,
    -0.04853740707039833,
    0.03937787562608719,
    -0.02275688201189041,
    -0.04930981993675232,
    0.06499460339546204,
    0.011909508146345615,
    -0.06462325900793076,
    0.004787507001310587,
    -0.09454356133937836,
    0.010737535543739796,
    -0.0379997082054615,
    0.05755434185266495,
    0.008476728573441505,
    -0.030469117686152458,
    -0.05146730691194534,
    0.00970644224435091,
    -0.0340925008058548,
    -0.062460824847221375,
    -0.018888210877776146,
    0.0069665852934122086,
    0.0004758302529808134,
    -0.010669909417629242,
    -0.08793626725673676,
    -0.057750165462493896,
    -0.033511992543935776,
    0.006362794898450375,
    0.014425521716475487,
    -0.0280227679759264,
    0.06150078400969505,
    -0.05069073662161827,
    0.048520974814891815,
    0.09823372960090637,
    -0.07036517560482025,
    -0.010916710831224918,
    -0.06393370777368546,
    0.014407002367079258,
    0.0978638082742691,
    0.04922759532928467,
    -0.016082102432847023,
    -0.04737714305520058,
    0.004227567929774523,
    -0.04885218292474747,
    -0.017264891415834427,
    -0.01729343645274639,
    -0.04001189023256302,
    0.013356529176235199,
    0.031203538179397583,
    0.03535671904683113,
    0.07591301947832108,
    -0.006008012220263481,
    0.01848914474248886,
    -0.06286723911762238,
    0.051281873136758804,
    0.0293881818652153,
    0.02042350172996521,
    0.05562059208750725,
    0.02826118655502796,
    0.022224044427275658,
    -0.034235499799251556,
    -0.022821053862571716,
    0.003711959347128868,
    0.028970031067728996
  ],
  "text": "Fixed ResizableTextEdit resize bug - comprehensive debugging report:\n\n**The Bug:**\nWhen dragging the resize handle on a text editor, only the text_edit widget resized. The gray border container and resize handle stayed in their original positions, not tracking with the resize operation.\n\n**Root Causes (Multiple Issues):**\n1. QGraphicsProxyWidget's boundingRect() was not updating when container resized\n2. Container was using setFixedSize() which locks the size policy to Fixed\n3. The proxy widget wasn't being notified to recalculate its geometry\n\n**What Didn't Work:**\n\nAttempt 1: Remove explicit proxy resize call\n- Removed `self.resize()` call, assuming proxy auto-updates with container\n- Result: Nothing resized at all\n- Why it failed: Proxy doesn't automatically update boundingRect when contained widget changes\n\nAttempt 2: Use setGeometry() on proxy\n- Called `self.setGeometry(QRectF(0, 0, new_width, new_height))`\n- Result: Still broken, same symptoms\n- Why it failed: setGeometry() doesn't work properly on QGraphicsProxyWidget\n\nAttempt 3: Use updateGeometry() alone\n- Called only `self.updateGeometry()` after container resize\n- Result: No change\n- Why it failed: updateGeometry() queries boundingRect(), but we weren't overriding it\n\n**The Solution (3 changes required):**\n\n1. Override boundingRect() to return actual container size:\n```python\ndef boundingRect(self):\n    return QRectF(0, 0, self.container.width(), self.container.height())\n```\nThis ensures the proxy's reported bounds match the actual container size.\n\n2. Set container size policy to Preferred (not Fixed):\n```python\nself.container.setSizePolicy(QSizePolicy.Policy.Preferred, QSizePolicy.Policy.Preferred)\n```\nThis allows the container to resize freely instead of being locked to a fixed size.\n\n3. Use resize() instead of setFixedSize() everywhere:\n- In __init__: `self.container.resize(...)` not `setFixedSize(...)`\n- In mouseMoveEvent: `self.container.resize(...)` not `setFixedSize(...)`\n- setFixedSize() sets size policy to Fixed, preventing growth\n\n**Key Insights:**\n\nQGraphicsProxyWidget behavior:\n- Does NOT automatically update its boundingRect when contained widget resizes\n- Must override boundingRect() to return the actual widget size\n- Must call prepareGeometryChange() before resize to trigger boundingRect() re-query\n- The resize handle calculation uses boundingRect(), so if that's stale, handle doesn't move\n\nWidget size policies matter:\n- setFixedSize() locks widget to Fixed size policy - can't grow\n- resize() with Preferred policy allows normal resizing\n- In a layout, Fixed policy can prevent proper resizing even with explicit calls\n\nDebugging technique that worked:\n- Added debug prints showing container size, proxy size, and boundingRect before/after\n- This revealed that container WAS resizing but proxy boundingRect was NOT\n- Led to understanding that boundingRect() needed to be overridden\n\n**Files modified:** src/nconotes/main.py:31-184\n\nQGraphicsProxyWidget resizing pattern:\n\nThe correct pattern for making a resizable QGraphicsProxyWidget:\n\n1. Override boundingRect() to return actual widget dimensions:\n```python\ndef boundingRect(self):\n    return QRectF(0, 0, self.widget.width(), self.widget.height())\n```\n\n2. Use Preferred size policy on contained widget, not Fixed\n\n3. In resize handler:\n   - Call prepareGeometryChange() first (notifies scene)\n   - Resize contained widget with resize() not setFixedSize()\n   - Call updateGeometry() after (optional but good practice)\n   - Call update() to trigger repaint\n\nWhy this is necessary:\n- QGraphicsProxyWidget doesn't automatically sync its boundingRect with widget size\n- boundingRect() is cached by QGraphicsScene for performance\n- prepareGeometryChange() invalidates cache and triggers boundingRect() re-query\n- If you don't override boundingRect(), you get the default behavior which may be stale\n\nCommon mistake: Using setFixedSize() \n- Sets QSizePolicy to Fixed, preventing resize\n- Even calling setFixedSize() again with new size doesn't always work properly\n- Use resize() with Preferred/Expanding size policy instead",
  "sections": [
    "Project Notes",
    "Technical Insights"
  ],
  "timestamp": 1768941883946,
  "path": "/mnt/c/GIT/NCONotes/.private-journal/2026-01-20/21-44-43-946190.md"
}